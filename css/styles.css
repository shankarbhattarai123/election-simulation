        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box
        }

        :root {
            --ink: #0f0d08;
            --parchment: #f2e8d0;
            --saffron: #e8701a;
            --gold: #d4a017;
            --green: #2d6a4f;
            --red: #b91c1c;
            --blue: #1e3a8a;
            --border: rgba(212, 160, 23, 0.4);
        }

        html,
        body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: #1a2a1a;
            font-family: 'Tiro Devanagari Hindi', 'Crimson Pro', serif
        }

        body::after {
            content: '';
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 9998;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='0.035'/%3E%3C/svg%3E");
            opacity: 0.5;
            mix-blend-mode: overlay
        }

        #gameCanvas {
            display: block;
            width: 100%;
            height: 100%;
            cursor: default
        }

        /* ── SCREENS ── */
        .screen {
            position: fixed;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            transition: opacity 0.6s ease, transform 0.6s ease;
            z-index: 500
        }

        .screen.hidden {
            opacity: 0;
            pointer-events: none;
            transform: translateY(24px)
        }

        /* ── TITLE ── */
        #titleScreen {
            background:
                radial-gradient(ellipse at 30% 70%, rgba(45, 106, 79, 0.3) 0%, transparent 50%),
                radial-gradient(ellipse at 70% 20%, rgba(232, 112, 26, 0.2) 0%, transparent 45%),
                linear-gradient(160deg, #0a0f0a 0%, #0d1a0d 40%, #0a0800 100%);
        }

        .title-particles {
            position: absolute;
            inset: 0;
            pointer-events: none;
            overflow: hidden
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            animation: rise linear infinite;
            opacity: 0
        }

        @keyframes rise {
            0% {
                transform: translateY(0) scale(1);
                opacity: 0
            }

            10% {
                opacity: 1
            }

            80% {
                opacity: 0.6
            }

            100% {
                transform: translateY(-110vh) scale(0.3);
                opacity: 0
            }
        }

        .title-emblem {
            width: 140px;
            height: 140px;
            margin: 0 auto 20px;
            position: relative;
            z-index: 1;
            animation: float 5s ease-in-out infinite
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0) rotate(-1deg)
            }

            50% {
                transform: translateY(-12px) rotate(1deg)
            }
        }

        .title-h1 {
            font-family: 'Cinzel', serif;
            font-size: clamp(42px, 7vw, 82px);
            font-weight: 700;
            background: linear-gradient(135deg, #f5eed8 0%, #e8c840 30%, #e8701a 60%, #f5eed8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-align: center;
            line-height: 1;
            margin-bottom: 6px;
            position: relative;
            z-index: 1;
            filter: drop-shadow(0 0 40px rgba(212, 160, 23, 0.5))
        }

        .title-sub {
            font-family: 'Share Tech Mono', monospace;
            font-size: 12px;
            letter-spacing: 0.4em;
            color: #7a6030;
            text-transform: uppercase;
            margin-bottom: 4px;
            text-align: center;
            z-index: 1;
            position: relative
        }

        .title-date {
            font-family: 'Cinzel', serif;
            font-size: 21px;
            color: #d4a017;
            text-align: center;
            margin-bottom: 28px;
            font-style: italic;
            z-index: 1;
            position: relative;
            text-shadow: 0 0 20px rgba(212, 160, 23, 0.6)
        }

        .gold-line {
            width: 260px;
            height: 1px;
            background: linear-gradient(90deg, transparent, #d4a017, transparent);
            margin: 0 auto 28px;
            z-index: 1;
            position: relative
        }

        .title-desc {
            font-size: 15px;
            color: #907848;
            text-align: center;
            max-width: 380px;
            line-height: 1.9;
            margin-bottom: 36px;
            z-index: 1;
            position: relative
        }

        .btn {
            font-family: 'Share Tech Mono', monospace;
            font-size: 12px;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            border: none;
            cursor: pointer;
            transition: all 0.28s;
            position: relative;
            overflow: hidden
        }

        .btn::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), transparent);
            transform: translateX(-110%);
            transition: transform 0.35s ease
        }

        .btn:hover::after {
            transform: translateX(0)
        }

        .btn-gold {
            background: linear-gradient(135deg, #c85a10, #e8a020, #c85a10);
            background-size: 200% 100%;
            color: #0f0d08;
            padding: 15px 48px;
            letter-spacing: 0.22em;
            font-weight: 600;
            clip-path: polygon(12px 0%, 100% 0%, calc(100% - 12px) 100%, 0% 100%);
            box-shadow: 0 4px 20px rgba(232, 112, 26, 0.3)
        }

        .btn-gold:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 32px rgba(232, 112, 26, 0.5);
            background-position: 100%
        }

        .btn-ghost {
            background: transparent;
            color: #d4c8a0;
            border: 1px solid rgba(212, 192, 128, 0.2);
            padding: 11px 30px
        }

        .btn-ghost:hover {
            border-color: #d4a017;
            color: #d4a017;
            background: rgba(212, 160, 23, 0.06)
        }

        /* ── CHARACTER SELECT ── */
        #charScreen {
            background:
                radial-gradient(ellipse at 50% 0%, rgba(45, 100, 70, 0.4) 0%, transparent 60%),
                linear-gradient(180deg, #080f08 0%, #0a0d0a 100%);
        }

        .char-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 22px;
            margin: 28px 0;
            z-index: 1;
            position: relative
        }

        .char-card {
            background: rgba(30, 50, 30, 0.5);
            border: 1px solid rgba(80, 140, 80, 0.15);
            padding: 30px 22px;
            cursor: pointer;
            transition: all 0.32s;
            text-align: center;
            min-width: 155px;
            position: relative;
            backdrop-filter: blur(4px)
        }

        .char-card:hover {
            border-color: #e8701a;
            background: rgba(232, 112, 26, 0.08);
            transform: translateY(-8px);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4)
        }

        .char-card.sel {
            border-color: #d4a017;
            background: rgba(212, 160, 23, 0.08);
            box-shadow: 0 0 0 1px rgba(212, 160, 23, 0.2), 0 8px 24px rgba(0, 0, 0, 0.4)
        }

        .char-card.sel::after {
            content: 'छानिएको';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(90deg, #c85a10, #d4a017);
            color: #0f0d08;
            font-family: 'Share Tech Mono', monospace;
            font-size: 8px;
            letter-spacing: 0.25em;
            padding: 4px 12px
        }

        .char-canvas {
            width: 100px;
            height: 120px;
            margin: 0 auto 14px;
            display: block
        }

        .char-name-big {
            font-family: 'Cinzel', serif;
            font-size: 18px;
            color: #f2e8d0;
            margin-bottom: 5px
        }

        .char-meta {
            font-family: 'Share Tech Mono', monospace;
            font-size: 9px;
            color: #6a5030;
            letter-spacing: 0.1em
        }

        .screen-title {
            font-family: 'Cinzel', serif;
            font-size: 26px;
            color: #f2e8d0;
            margin-bottom: 4px;
            text-align: center;
            z-index: 1;
            position: relative
        }

        .screen-tag {
            font-family: 'Share Tech Mono', monospace;
            font-size: 9px;
            letter-spacing: 0.32em;
            color: #d4a017;
            text-transform: uppercase;
            margin-bottom: 24px;
            text-align: center;
            z-index: 1;
            position: relative
        }

        /* ── HUD ── */
        #hud {
            display: none !important
        }

        .hud-box {
            background: rgba(5, 8, 5, 0.82);
            border: 1px solid var(--border);
            padding: 8px 16px;
            backdrop-filter: blur(8px);
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.4)
        }

        .hud-label {
            font-family: 'Share Tech Mono', monospace;
            font-size: 8px;
            letter-spacing: 0.3em;
            color: #d4a017;
            margin-bottom: 3px
        }

        .hud-val {
            font-family: 'Share Tech Mono', monospace;
            font-size: 12px;
            color: #f2e8d0
        }

        /* step progress dots */
        #phaseTrack {
            display: none !important
        }

        .ph-dot {
            width: 7px;
            height: 7px;
            border-radius: 50%;
            background: rgba(212, 160, 23, 0.2);
            transition: all 0.4s
        }

        .ph-dot.done {
            background: #d4a017
        }

        .ph-dot.active {
            background: #e8701a;
            box-shadow: 0 0 8px rgba(232, 112, 26, 0.8);
            transform: scale(1.3)
        }

        #stepBar {
            display: none !important
        }

        .step-inner {
            background: rgba(5, 8, 5, 0.9);
            border: 1px solid rgba(232, 112, 26, 0.45);
            padding: 12px 24px;
            display: flex;
            align-items: center;
            gap: 14px;
            max-width: 680px;
            margin: 0 auto;
            backdrop-filter: blur(10px);
            box-shadow: 0 -4px 24px rgba(0, 0, 0, 0.4)
        }

        .step-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #d4a017;
            animation: blink 1.4s ease-in-out infinite;
            flex-shrink: 0
        }

        @keyframes blink {

            0%,
            100% {
                opacity: 1;
                transform: scale(1)
            }

            50% {
                opacity: 0.3;
                transform: scale(0.6)
            }
        }

        .step-text {
            font-family: 'Share Tech Mono', monospace;
            font-size: 11px;
            color: #e8dcc0;
            letter-spacing: 0.07em
        }

        #keysHint {
            display: none !important
        }

        .keys-box {
            background: rgba(5, 8, 5, 0.75);
            border: 1px solid rgba(212, 192, 128, 0.12);
            padding: 9px 10px;
            display: grid;
            grid-template-columns: repeat(3, 26px);
            gap: 3px;
            justify-content: center;
            border-radius: 4px
        }

        .key {
            width: 26px;
            height: 26px;
            background: rgba(212, 192, 128, 0.06);
            border: 1px solid rgba(212, 192, 128, 0.18);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Share Tech Mono', monospace;
            font-size: 10px;
            color: #c8b890
        }

        .key.active-key {
            background: rgba(232, 112, 26, 0.2);
            border-color: rgba(232, 112, 26, 0.5)
        }

        /* ── DIALOGUE ── */
        #dialogueBox {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: min(640px, 94vw);
            z-index: 650;
            transition: all 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
            pointer-events: all
        }

        #dialogueBox.hidden {
            opacity: 0;
            transform: translateX(-50%) translateY(24px);
            pointer-events: none
        }

        .dlg-inner {
            background: rgba(6, 9, 6, 0.96);
            border: 1px solid var(--border);
            backdrop-filter: blur(16px);
            padding: 18px 22px 22px;
            position: relative;
            box-shadow: 0 8px 40px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(212, 160, 23, 0.05)
        }

        .dlg-speaker {
            font-family: 'Share Tech Mono', monospace;
            font-size: 9px;
            letter-spacing: 0.28em;
            color: #d4a017;
            text-transform: uppercase;
            margin-bottom: 8px
        }

        .dlg-text {
            font-family: 'Crimson Pro', serif;
            font-size: 15px;
            color: #e8dcc0;
            line-height: 1.7
        }

        .dlg-face {
            position: absolute;
            top: -22px;
            left: 18px;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: rgba(6, 9, 6, 0.9);
            border: 2px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px
        }

        .dlg-continue {
            position: absolute;
            bottom: 10px;
            right: 14px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 8px;
            color: #d4a017;
            letter-spacing: 0.2em;
            animation: blink 1.1s infinite
        }

        /* ── MODAL BOOTH ── */
        .booth-modal {
            position: fixed;
            inset: 0;
            background: rgba(3, 5, 3, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 600;
            backdrop-filter: blur(12px);
            animation: fadeUp 0.38s cubic-bezier(0.34, 1.2, 0.64, 1)
        }

        .booth-modal.hidden {
            display: none
        }

        @keyframes fadeUp {
            from {
                opacity: 0;
                transform: translateY(32px) scale(0.97)
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1)
            }
        }

        .booth-panel {
            background: linear-gradient(160deg, #080d08, #060a06);
            border: 1px solid var(--border);
            max-width: 520px;
            width: 94vw;
            max-height: 90vh;
            overflow-y: auto;
            padding: 28px 28px 26px;
            position: relative;
            box-shadow: 0 0 80px rgba(212, 160, 23, 0.12), 0 0 0 1px rgba(212, 160, 23, 0.04)
        }

        .booth-panel::-webkit-scrollbar {
            width: 3px
        }

        .booth-panel::-webkit-scrollbar-thumb {
            background: linear-gradient(#e8701a, #d4a017)
        }

        .step-pill {
            font-family: 'Share Tech Mono', monospace;
            font-size: 8px;
            letter-spacing: 0.3em;
            color: #e8701a;
            background: rgba(232, 112, 26, 0.1);
            border: 1px solid rgba(232, 112, 26, 0.28);
            display: inline-block;
            padding: 4px 14px;
            margin-bottom: 18px
        }

        .booth-h2 {
            font-family: 'Cinzel', serif;
            font-size: 21px;
            color: #f2e8d0;
            margin-bottom: 18px
        }

        .progress-track {
            display: flex;
            gap: 5px;
            margin-bottom: 22px
        }

        .prog-seg {
            height: 3px;
            flex: 1;
            background: rgba(242, 232, 208, 0.08);
            border-radius: 2px;
            transition: background 0.45s
        }

        .prog-seg.done {
            background: linear-gradient(90deg, #c85a10, #d4a017)
        }

        .prog-seg.active {
            background: #e8701a;
            animation: prog-pulse 1.1s ease infinite
        }

        @keyframes prog-pulse {

            0%,
            100% {
                opacity: 1
            }

            50% {
                opacity: 0.45
            }
        }

        /* ══════════════════════════════════════════════
   POLICE CHECKPOINT UI
══════════════════════════════════════════════ */
        .police-panel {
            background: #080a10;
            border: 0;
            max-width: 660px;
            width: 96vw;
            max-height: 92vh;
            overflow-y: auto;
            position: relative;
            box-shadow:
                0 0 0 1px rgba(255, 40, 40, 0.15),
                0 0 0 2px rgba(30, 80, 255, 0.12),
                0 0 80px rgba(0, 0, 0, 0.9),
                0 40px 80px rgba(0, 0, 30, 0.8);
        }

        .police-panel::-webkit-scrollbar {
            width: 2px
        }

        .police-panel::-webkit-scrollbar-thumb {
            background: #1a2060
        }

        /* Top command strip */
        .police-topbar {
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            height: 44px;
            background: linear-gradient(90deg, #0a0018, #0c0020, #0a0018);
            border-bottom: 1px solid rgba(60, 80, 200, 0.3);
        }

        .police-topbar::before {
            content: '';
            position: absolute;
            inset: 0;
            background: repeating-linear-gradient(90deg,
                    transparent 0px, transparent 18px,
                    rgba(30, 60, 200, 0.04) 18px, rgba(30, 60, 200, 0.04) 20px);
        }

        .police-topbar::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(100, 140, 255, 0.6), transparent);
        }

        .police-title-text {
            font-family: 'Share Tech Mono', monospace;
            font-size: 10px;
            letter-spacing: 0.35em;
            color: #8090d0;
            text-transform: uppercase;
            position: relative;
        }

        /* Strobe lights row */
        .police-lights {
            display: flex;
            gap: 6px;
            align-items: center
        }

        .police-light {
            width: 12px;
            height: 12px;
            border-radius: 50%
        }

        .police-light.red {
            background: radial-gradient(circle at 35% 35%, #ff6060, #cc0000);
            box-shadow: 0 0 8px #ff0000, 0 0 20px rgba(255, 0, 0, 0.5);
            animation: strobe-r 0.7s ease-in-out infinite alternate;
        }

        .police-light.blue {
            background: radial-gradient(circle at 35% 35%, #6080ff, #0020cc);
            box-shadow: 0 0 8px #0040ff, 0 0 20px rgba(0, 60, 255, 0.5);
            animation: strobe-b 0.7s ease-in-out infinite alternate;
        }

        @keyframes strobe-r {
            0% {
                opacity: 1;
                box-shadow: 0 0 10px #ff0000, 0 0 26px rgba(255, 0, 0, 0.6)
            }

            100% {
                opacity: 0.15;
                box-shadow: none
            }
        }

        @keyframes strobe-b {
            0% {
                opacity: 0.15;
                box-shadow: none
            }

            100% {
                opacity: 1;
                box-shadow: 0 0 10px #0040ff, 0 0 26px rgba(0, 60, 255, 0.6)
            }
        }

        /* Two-column layout */
        .checkpoint-scene {
            display: flex;
            gap: 0;
            align-items: stretch;
            min-height: 360px
        }

        /* Officer column */
        .officer-side {
            width: 140px;
            flex-shrink: 0;
            background: linear-gradient(180deg, #0c0e1e, #080a16);
            border-right: 1px solid rgba(60, 80, 200, 0.2);
            padding: 20px 12px 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .officer-avatar {
            width: 72px;
            height: 72px;
            border-radius: 50%;
            background: radial-gradient(circle at 40% 35%, #2a3060, #0e1030);
            border: 2px solid rgba(80, 120, 255, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 38px;
            margin-bottom: 10px;
            box-shadow: 0 0 20px rgba(60, 100, 255, 0.15), 0 4px 20px rgba(0, 0, 0, 0.6);
            position: relative;
        }

        .officer-avatar::after {
            content: '';
            position: absolute;
            inset: -4px;
            border-radius: 50%;
            border: 1px solid rgba(80, 120, 255, 0.2);
        }

        .officer-name {
            font-family: 'Share Tech Mono', monospace;
            font-size: 9px;
            color: #6080c0;
            letter-spacing: 0.2em;
            margin-bottom: 2px;
            text-align: center;
        }

        .officer-rank {
            font-family: 'Share Tech Mono', monospace;
            font-size: 7px;
            color: #303860;
            margin-bottom: 14px;
            text-align: center;
            letter-spacing: 0.1em;
            padding: 2px 8px;
            border: 1px solid rgba(50, 70, 160, 0.3);
        }

        .officer-speech {
            font-family: 'Tiro Devanagari Hindi', serif;
            font-size: 10px;
            color: #6070a0;
            line-height: 1.8;
            font-style: italic;
            text-align: center;
            border-top: 1px solid rgba(50, 70, 160, 0.2);
            padding-top: 12px;
            margin-top: auto;
        }

        /* Right verification column */
        .verify-steps-col {
            flex: 1;
            min-width: 0;
            padding: 16px 18px;
            background: #080a10
        }

        /* ID card compact */
        .id-card-compact {
            background: linear-gradient(135deg, #0c1a30, #142240, #0c1a30);
            border: 1px solid rgba(58, 120, 200, 0.5);
            padding: 10px 14px 10px 12px;
            margin-bottom: 14px;
            position: relative;
            overflow: hidden;
        }

        .id-card-compact::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, #3a78c8, transparent);
        }

        .id-card-compact::after {
            content: '';
            position: absolute;
            right: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(180deg, #003893, #dc143c, #003893);
        }

        .idc-row {
            display: flex;
            align-items: center;
            gap: 10px
        }

        .idc-flag {
            display: flex;
            flex-direction: column;
            gap: 1px;
            flex-shrink: 0
        }

        .idc-flag div {
            width: 18px;
            height: 6px
        }

        .idc-text {
            flex: 1
        }

        .idc-header {
            font-family: 'Share Tech Mono', monospace;
            font-size: 7px;
            color: #3a5898;
            letter-spacing: 0.2em;
            margin-bottom: 4px
        }

        .idc-name {
            font-family: 'Cinzel', serif;
            font-size: 16px;
            color: #e8f0ff;
            line-height: 1;
            margin-bottom: 3px
        }

        .idc-num {
            font-family: 'Share Tech Mono', monospace;
            font-size: 9px;
            color: #4868a8
        }

        .idc-meta {
            font-family: 'Share Tech Mono', monospace;
            font-size: 7px;
            color: #304060;
            margin-top: 4px;
            letter-spacing: 0.05em
        }

        .idc-chip {
            width: 28px;
            height: 22px;
            flex-shrink: 0;
            background: linear-gradient(135deg, #a07800, #e0c030, #987000);
            border-radius: 3px;
            box-shadow: 0 1px 6px rgba(0, 0, 0, 0.5);
        }

        /* Section label */
        .verify-section-label {
            font-family: 'Share Tech Mono', monospace;
            font-size: 7px;
            letter-spacing: 0.35em;
            color: #303870;
            text-transform: uppercase;
            margin-bottom: 8px;
            padding-bottom: 4px;
            border-bottom: 1px solid rgba(40, 60, 160, 0.2);
        }

        /* Verification steps */
        .vsteps {
            display: flex;
            flex-direction: column;
            gap: 6px;
            margin-bottom: 14px
        }

        .vstep {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 9px 12px;
            background: rgba(10, 14, 28, 0.8);
            border-left: 3px solid rgba(40, 60, 160, 0.2);
            transition: all 0.25s ease;
        }

        .vstep.active {
            border-left-color: #4060ff;
            background: rgba(16, 24, 56, 0.9);
            box-shadow: inset 0 0 20px rgba(40, 80, 255, 0.06);
        }

        .vstep.done {
            border-left-color: #20c060;
            background: rgba(10, 28, 18, 0.8);
        }

        .vstep-icon {
            font-size: 18px;
            width: 26px;
            text-align: center;
            flex-shrink: 0;
            filter: grayscale(0.4);
            transition: filter 0.3s;
        }

        .vstep.active .vstep-icon {
            filter: none;
            animation: pulse-icon 0.8s ease-in-out infinite alternate
        }

        @keyframes pulse-icon {
            0% {
                transform: scale(1)
            }

            100% {
                transform: scale(1.15)
            }
        }

        .vstep.done .vstep-icon {
            filter: none
        }

        .vstep-body {
            flex: 1;
            min-width: 0
        }

        .vstep-label {
            font-family: 'Tiro Devanagari Hindi', serif;
            font-size: 11px;
            color: #6080b0;
            margin-bottom: 5px;
            transition: color 0.3s;
        }

        .vstep.active .vstep-label {
            color: #a0c0ff
        }

        .vstep.done .vstep-label {
            color: #50d880
        }

        .vstep-bar {
            height: 3px;
            background: rgba(255, 255, 255, 0.05);
            overflow: hidden
        }

        .vstep-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #1840c0, #4080ff);
            transition: width 0.05s linear;
            box-shadow: 0 0 6px rgba(64, 128, 255, 0.6);
        }

        .vstep.done .vstep-fill {
            background: linear-gradient(90deg, #108030, #30c060);
            box-shadow: 0 0 6px rgba(48, 192, 96, 0.6);
        }

        .vstep-status {
            font-size: 13px;
            flex-shrink: 0;
            width: 20px;
            text-align: center
        }

        /* Success state */
        .verify-success-panel {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            padding: 16px;
            margin-top: 4px;
            background: linear-gradient(135deg, rgba(10, 40, 20, 0.8), rgba(8, 30, 16, 0.8));
            border: 1px solid rgba(40, 180, 80, 0.3);
            animation: fadeUp 0.5s ease;
        }

        .success-icon-big {
            font-size: 36px;
            filter: drop-shadow(0 0 16px rgba(60, 220, 100, 0.5))
        }

        .success-text {
            font-family: 'Tiro Devanagari Hindi', serif;
            font-size: 13px;
            color: #60e890;
            text-align: center;
            line-height: 1.7;
        }

        .success-sub {
            font-family: 'Share Tech Mono', monospace;
            font-size: 8px;
            color: #208040;
            letter-spacing: 0.2em;
            text-align: center;
        }

        /* Start button */
        .btn-police {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(135deg, #0c1e60, #1428a0);
            border: 1px solid rgba(80, 120, 255, 0.4);
            color: #8090e0;
            font-family: 'Share Tech Mono', monospace;
            font-size: 9px;
            letter-spacing: 0.3em;
            padding: 11px 22px;
            cursor: pointer;
            transition: all 0.2s;
            text-transform: uppercase;
            position: relative;
            overflow: hidden;
        }

        .btn-police::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(80, 120, 255, 0), rgba(80, 120, 255, 0.08));
            opacity: 0;
            transition: opacity 0.2s;
        }

        .btn-police:hover {
            border-color: rgba(100, 160, 255, 0.7);
            color: #c0d8ff;
            box-shadow: 0 0 20px rgba(60, 120, 255, 0.2);
        }

        .btn-police:hover::before {
            opacity: 1
        }

        .btn-police:active {
            transform: scale(0.97)
        }


        .id-card {
            background: linear-gradient(140deg, #0a1e3a, #163666, #0a1e3a);
            border: 2px solid #3a78c8;
            border-radius: 8px;
            padding: 18px 20px;
            position: relative;
            overflow: hidden;
            margin: 16px 0 22px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.7), inset 0 1px 0 rgba(255, 255, 255, 0.08), 0 0 0 1px rgba(58, 120, 200, 0.2)
        }

        .id-card::before {
            content: '';
            position: absolute;
            top: -30%;
            right: -10%;
            width: 220px;
            height: 220px;
            background: radial-gradient(circle, rgba(58, 120, 200, 0.12), transparent);
            border-radius: 50%
        }

        .id-card::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(58, 120, 200, 0.5), transparent)
        }

        .id-hdr {
            font-family: 'Share Tech Mono', monospace;
            font-size: 8px;
            letter-spacing: 0.25em;
            color: #6aa8e8;
            text-transform: uppercase;
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 1px solid rgba(58, 120, 200, 0.25)
        }

        .id-name-big {
            font-family: 'Cinzel', serif;
            font-size: 22px;
            color: white;
            margin-bottom: 3px
        }

        .id-num {
            font-family: 'Share Tech Mono', monospace;
            font-size: 11px;
            color: #6aa8e8;
            margin-bottom: 10px
        }

        .id-info {
            font-family: 'Share Tech Mono', monospace;
            font-size: 9px;
            color: #6aa8e8;
            line-height: 1.9
        }

        .id-chip {
            position: absolute;
            right: 18px;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 32px;
            background: linear-gradient(135deg, #b89000, #f0d040, #a87800);
            border-radius: 4px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5)
        }

        .id-chip::after {
            content: '';
            position: absolute;
            inset: 4px;
            border: 1px solid rgba(200, 160, 0, 0.4);
            border-radius: 2px
        }

        .id-flag {
            position: absolute;
            top: 14px;
            right: 68px;
            display: flex;
            flex-direction: column;
            gap: 1px
        }

        .id-flag div {
            width: 22px;
            height: 7px
        }

        /* ── INK PAD — 3D Illustrated Style ── */
        .ink-stage {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0;
            padding: 10px 0 4px;
            position: relative
        }

        #inkCanvas {
            cursor: pointer;
            filter: drop-shadow(0 16px 40px rgba(80, 20, 160, 0.5));
            transition: transform 0.2s, filter 0.2s;
            display: block
        }

        #inkCanvas:hover {
            transform: translateY(-5px) scale(1.04);
            filter: drop-shadow(0 26px 52px rgba(100, 30, 220, 0.65))
        }

        #inkCanvas:active {
            transform: translateY(3px) scale(0.96);
            filter: drop-shadow(0 6px 16px rgba(80, 20, 160, 0.35))
        }

        #inkCanvas.done {
            cursor: default
        }

        #inkCanvas.done:hover {
            transform: none;
            filter: drop-shadow(0 16px 40px rgba(80, 20, 160, 0.5))
        }

        .ink-hint {
            font-family: 'Share Tech Mono', monospace;
            font-size: 10px;
            letter-spacing: 0.2em;
            color: #9060d0;
            text-align: center;
            margin-top: 10px;
            animation: bounce-hint 1.4s ease-in-out infinite
        }

        @keyframes bounce-hint {

            0%,
            100% {
                transform: translateY(0);
                opacity: 0.6
            }

            50% {
                transform: translateY(-6px);
                opacity: 1
            }
        }

        .ink-result {
            text-align: center;
            padding: 13px 20px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 11px;
            letter-spacing: 0.12em;
            background: rgba(35, 80, 55, 0.25);
            border: 1px solid rgba(45, 106, 79, 0.45);
            color: #6bcf9f;
            margin-top: 14px;
            display: none;
            border-radius: 2px;
            animation: fadeUp 0.4s ease
        }

        .ink-burst {
            position: absolute;
            pointer-events: none;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 0;
            height: 0
        }

        @keyframes burst {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1)
            }

            100% {
                opacity: 0;
                transform: translate(var(--tx), var(--ty)) scale(0.2)
            }
        }

        /* ── BALLOT TABS ── */
        .ballot-tab-bar {
            display: flex;
            gap: 5px;
            margin-bottom: 10px;
            background: rgba(0, 0, 0, 0.25);
            border: 1px solid rgba(212, 160, 23, 0.2);
            padding: 4px;
            border-radius: 5px
        }

        .ballot-tab {
            flex: 1;
            padding: 9px 4px;
            font-family: 'Tiro Devanagari Hindi', serif;
            font-size: 12px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            transition: all 0.22s;
            font-weight: 600
        }

        .ballot-tab.active {
            background: linear-gradient(135deg, #c85a10, #e8a020);
            color: #0f0d08
        }

        .ballot-tab.inactive {
            background: rgba(255, 255, 255, 0.05);
            color: #907050
        }

        .ballot-done-badge {
            display: inline-block;
            background: #2d6a4f;
            color: #6bcf9f;
            font-size: 9px;
            padding: 1px 6px;
            border-radius: 8px;
            margin-left: 4px;
            font-family: 'Share Tech Mono', monospace
        }

        /* ── BALLOT ── */
        .ballot {
            background: #fffef8;
            border: 1px solid #ccc;
            box-shadow: 0 6px 24px rgba(0, 0, 0, 0.45), inset 0 0 0 1px rgba(0, 0, 0, 0.03);
            margin: 6px 0 10px;
            border-radius: 1px;
            overflow: hidden
        }

        .ballot-red {
            border-top: 4px solid #dc143c
        }

        .ballot-blue {
            border-top: 4px solid #003893
        }

        .b-hdr {
            padding: 8px 14px;
            font-family: 'Tiro Devanagari Hindi', serif;
            font-size: 11px;
            text-align: center;
            font-weight: 700
        }

        .b-hdr-red {
            background: linear-gradient(135deg, #3a0a0a, #6a1010);
            color: #ffb0a0
        }

        .b-hdr-blue {
            background: linear-gradient(135deg, #0a1030, #1a2870);
            color: #a0c0ff
        }

        .b-title {
            background: white;
            color: #111;
            padding: 8px 14px;
            font-family: 'Tiro Devanagari Hindi', serif;
            font-size: 12px;
            text-align: center;
            border-bottom: 2px solid #ccc;
            line-height: 1.7
        }

        .b-instr {
            font-family: 'Tiro Devanagari Hindi', serif;
            font-size: 9px;
            color: #444;
            padding: 4px 14px;
            background: #f8f5e8;
            border-bottom: 1px solid #ddd
        }

        /* Candidate row */
        .cand {
            display: flex;
            align-items: center;
            border-bottom: 1px solid #e0d8c8;
            padding: 6px 10px;
            cursor: pointer;
            transition: background 0.15s;
            background: white;
            gap: 8px
        }

        .cand:hover {
            background: #fffbf0
        }

        .cand:last-of-type {
            border-bottom: none
        }

        .c-num {
            font-family: 'Share Tech Mono', monospace;
            font-size: 11px;
            color: #555;
            width: 18px;
            flex-shrink: 0;
            font-weight: 700;
            text-align: center
        }

        .c-sym {
            width: 40px;
            height: 40px;
            border: 1.5px solid #bbb;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            background: white;
            border-radius: 2px
        }

        .c-sym svg {
            display: block
        }

        .c-info {
            flex: 1;
            min-width: 0
        }

        .c-name {
            font-family: 'Tiro Devanagari Hindi', serif;
            font-size: 12px;
            color: #111;
            font-weight: 700;
            line-height: 1.3
        }

        .c-party {
            font-family: 'Tiro Devanagari Hindi', serif;
            font-size: 9px;
            color: #666;
            margin-top: 1px
        }

        .c-sym-lbl {
            font-family: 'Share Tech Mono', monospace;
            font-size: 8px;
            color: #999;
            margin-top: 1px
        }

        .stamp-box {
            width: 50px;
            height: 40px;
            border: 1.5px dashed #bbb;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 240, 0.6);
            border-radius: 2px;
            overflow: visible;
            position: relative
        }

        .stamp-mark {
            display: none;
            font-size: 28px;
            line-height: 1;
            color: #c8000a;
            font-family: serif;
            font-weight: 900;
            transform: rotate(-10deg);
            filter: drop-shadow(0 0 5px rgba(200, 0, 10, 0.55)) drop-shadow(0 2px 6px rgba(160, 0, 0, 0.4));
            animation: stamp-in 0.28s cubic-bezier(0.05, 1.9, 0.4, 1) forwards;
            text-shadow: 0 0 8px rgba(200, 0, 10, 0.4)
        }

        @keyframes stamp-in {
            0% {
                transform: rotate(-10deg) scale(3.5) translateY(-6px);
                opacity: 0;
                filter: drop-shadow(0 0 12px rgba(200, 0, 10, 0.8))
            }

            55% {
                transform: rotate(-10deg) scale(0.88);
                opacity: 1
            }

            75% {
                transform: rotate(-10deg) scale(1.05)
            }

            100% {
                transform: rotate(-10deg) scale(1);
                filter: drop-shadow(0 0 3px rgba(200, 0, 10, 0.4))
            }
        }

        .cand.stamped .stamp-mark {
            display: block
        }

        .cand.stamped {
            background: linear-gradient(90deg, #fff5f5, #fffaf8) !important;
            pointer-events: none
        }

        .cand.stamped .stamp-box {
            border-color: rgba(180, 0, 10, 0.3);
            border-style: solid;
            background: rgba(255, 230, 230, 0.3)
        }

        .b-serial {
            font-family: 'Share Tech Mono', monospace;
            font-size: 8px;
            color: #aaa;
            padding: 4px 14px;
            text-align: right;
            background: #fafaf8;
            border-top: 1px solid #eee
        }

        .b-sig {
            padding: 5px 14px;
            font-family: 'Tiro Devanagari Hindi', serif;
            font-size: 11px;
            font-style: italic;
            color: #1a3a8a;
            text-align: right;
            background: white;
            border-top: 1px solid #ddd
        }

        /* Samanupat grid */
        .sp-grid {
            display: grid;
            grid-template-columns: 1fr 1fr
        }

        .sp-cand {
            border-right: 1px solid #e0d8c8;
            padding: 5px 8px !important
        }

        .sp-cand:nth-child(even) {
            border-right: none
        }

        .sp-sym {
            width: 36px !important;
            height: 36px !important;
            border: 1px solid #bbb !important
        }

        .sp-box {
            width: 38px !important;
            height: 34px !important
        }

        /* Stamp animation */
        .stamp-flash {
            animation: flash-overlay 0.3s ease
        }

        @keyframes flash-overlay {
            0% {
                filter: brightness(1.8)
            }

            100% {
                filter: brightness(1)
            }
        }

        /* ── FOLD ── */
        .fold-vis {
            display: flex;
            gap: 32px;
            justify-content: center;
            margin: 20px 0 26px;
            align-items: flex-end
        }

        .fold-demo {
            text-align: center;
            cursor: pointer;
            transition: all 0.22s;
            padding: 12px;
            border-radius: 4px;
            border: 1px solid transparent
        }

        .fold-demo:hover {
            transform: translateY(-6px)
        }

        .fold-demo.fold-v:hover {
            background: rgba(45, 106, 79, 0.08);
            border-color: rgba(45, 106, 79, 0.3)
        }

        .fold-demo.fold-h:hover {
            background: rgba(185, 28, 28, 0.06);
            border-color: rgba(185, 28, 28, 0.25)
        }

        .fold-paper {
            background: linear-gradient(135deg, #fffef0, #f5f0d8, #fffef0);
            border: 1px solid #ccc;
            margin: 0 auto 10px;
            position: relative;
            overflow: hidden;
            box-shadow: 3px 5px 16px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.8);
            border-radius: 1px
        }

        .fold-paper .fl-v {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(180deg, transparent, rgba(45, 106, 79, 0.6), transparent);
            transform: translateX(-50%)
        }

        .fold-paper .fl-h {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(185, 28, 28, 0.6), transparent);
            transform: translateY(-50%)
        }

        .fold-label {
            font-family: 'Share Tech Mono', monospace;
            font-size: 9px;
            letter-spacing: 0.14em
        }

        .fold-label.good {
            color: #6bcf9f
        }

        .fold-label.bad {
            color: #f08080
        }

        /* ── BOX AREA ── */
        .box-scene {
            display: flex;
            gap: 28px;
            justify-content: center;
            margin: 18px 0 22px;
            flex-wrap: wrap
        }

        .ballot-box-ui {
            text-align: center;
            cursor: pointer;
            transition: all 0.26s;
            padding: 14px;
            border: 2px solid transparent;
            border-radius: 6px
        }

        .ballot-box-ui:hover {
            transform: translateY(-8px)
        }

        .ballot-box-ui.official:hover {
            border-color: rgba(45, 106, 79, 0.4);
            background: rgba(45, 106, 79, 0.05);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4)
        }

        .ballot-box-ui.wrong:hover {
            border-color: rgba(120, 120, 120, 0.3);
            background: rgba(80, 80, 80, 0.04);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.3)
        }

        .box-3d {
            width: 110px;
            height: 130px;
            margin: 0 auto 12px;
            position: relative
        }

        .box-top {
            position: absolute;
            top: 0;
            left: 8px;
            right: 8px;
            height: 22px;
            border-radius: 3px 3px 0 0;
            display: flex;
            align-items: center;
            justify-content: center
        }

        .box-body {
            position: absolute;
            top: 22px;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 0 0 4px 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            overflow: hidden
        }

        .box-slot {
            position: absolute;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            width: 48px;
            height: 6px;
            background: rgba(0, 0, 0, 0.55);
            border-radius: 1px
        }

        .box-shd {
            position: absolute;
            bottom: -10px;
            left: 5%;
            width: 90%;
            height: 10px;
            background: radial-gradient(ellipse, rgba(0, 0, 0, 0.35), transparent);
            border-radius: 50%
        }

        .box-lbl {
            font-family: 'Share Tech Mono', monospace;
            font-size: 10px;
            letter-spacing: 0.1em
        }

        .box-sub {
            font-family: 'Share Tech Mono', monospace;
            font-size: 7px;
            color: #555;
            margin-top: 3px;
            letter-spacing: 0.08em
        }

        /* ── RESULT ── */
        #resultScreen {
            background:
                radial-gradient(ellipse at 50% 0%, rgba(45, 80, 30, 0.4) 0%, transparent 55%),
                linear-gradient(180deg, #040904 0%, #060b06 100%);
        }

        .result-ring {
            width: 128px;
            height: 128px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 64px;
            margin: 0 auto 22px;
            border: 3px solid;
            position: relative
        }

        .result-ring::before {
            content: '';
            position: absolute;
            inset: -10px;
            border-radius: 50%;
            border: 1px solid;
            opacity: 0.25;
            animation: spin 8s linear infinite
        }

        @keyframes spin {
            to {
                transform: rotate(360deg)
            }
        }

        .result-ring.valid {
            border-color: #2d6a4f;
            background: rgba(45, 106, 79, 0.12);
            box-shadow: 0 0 60px rgba(45, 106, 79, 0.25)
        }

        .result-ring.valid::before {
            border-color: #2d6a4f
        }

        .result-ring.valid {
            animation: ring-valid 2.2s ease-in-out infinite
        }

        .result-ring.invalid {
            border-color: #b91c1c;
            background: rgba(185, 28, 28, 0.1);
            box-shadow: 0 0 40px rgba(185, 28, 28, 0.2)
        }

        .result-ring.invalid::before {
            border-color: #b91c1c
        }

        @keyframes ring-valid {

            0%,
            100% {
                box-shadow: 0 0 0 0 rgba(45, 106, 79, 0.5), 0 0 60px rgba(45, 106, 79, 0.25)
            }

            50% {
                box-shadow: 0 0 0 24px rgba(45, 106, 79, 0), 0 0 60px rgba(45, 106, 79, 0.25)
            }
        }

        .result-h {
            font-family: 'Cinzel', serif;
            font-size: 28px;
            text-align: center;
            margin-bottom: 6px;
            color: #f2e8d0
        }

        .verdict-tag {
            font-family: 'Share Tech Mono', monospace;
            font-size: 12px;
            letter-spacing: 0.3em;
            padding: 8px 26px;
            display: inline-block;
            margin-bottom: 26px;
            text-align: center;
            border-radius: 2px
        }

        .verdict-tag.valid {
            background: rgba(45, 106, 79, 0.22);
            color: #6bcf9f;
            border: 1px solid rgba(45, 106, 79, 0.45)
        }

        .verdict-tag.invalid {
            background: rgba(185, 28, 28, 0.18);
            color: #f08080;
            border: 1px solid rgba(185, 28, 28, 0.38)
        }

        .report {
            background: rgba(15, 22, 15, 0.6);
            border: 1px solid rgba(212, 192, 128, 0.1);
            padding: 18px 20px;
            margin-bottom: 24px;
            width: 100%;
            max-width: 420px;
            border-radius: 2px
        }

        .report-hdr {
            font-family: 'Share Tech Mono', monospace;
            font-size: 8px;
            letter-spacing: 0.3em;
            color: #d4a017;
            margin-bottom: 13px;
            padding-bottom: 9px;
            border-bottom: 1px solid rgba(212, 160, 23, 0.2)
        }

        .r-item {
            display: flex;
            align-items: center;
            gap: 13px;
            margin-bottom: 9px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 10px;
            letter-spacing: 0.05em
        }

        .r-icon.ok {
            color: #6bcf9f
        }

        .r-icon.fail {
            color: #f08080
        }

        .r-txt.ok {
            color: #a8cdb8
        }

        .r-txt.fail {
            color: #d8a0a0
        }

        .btn-row {
            display: flex;
            gap: 14px;
            justify-content: center;
            flex-wrap: wrap
        }

        #veil {
            position: fixed;
            inset: 0;
            background: #030503;
            z-index: 9000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.45s ease
        }

        #veil.on {
            opacity: 1
        }
